!function(B,w){"use strict";var D="ht",o=B[D],P="px",J="left",u="top",L="bottom",N="right",U="innerHTML",R="className",z="",v="width",O="height",e="string",l="position",p="absolute",F="0",q="opacity",C="background",x=o.Default,r=x.getInternal(),V=o.Color,n=x.animate,f=x.isTouchable,c=null,y=(Math.sqrt,B.parseInt),M=B.setTimeout,j=(Math.round,V.titleIconBackground),I=function(B){return typeof B===e||B instanceof String},Y=function(){return document},Z=function(z){return Y().createElement(z)},E=function(){var G=Z("div");return G.tabIndex=-1,G.style.outline="none",G},W=function(){return Z("canvas")},X=function(t,T){k(t,"-webkit-transform",T),k(t,"-ms-transform",T),k(t,"transform",T)},k=function(h,t,k){h.style.setProperty(t,k,c)},$=function(e,q,n){x.def(o.widget[e],q,n)},T=function(W,P){W.appendChild(P)},Q=function(n,y){n.removeChild(y)},m=function(){return Y().body},b=function(){return Y().documentElement},i=function(){return b().clientWidth},G=function(){return b().clientHeight},d=function(E,h,g,L){E.addEventListener(h,g,!!L)},A=function(J){var I=J.touches[0];return I?I:J.changedTouches[0]};r.addMethod(x,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:j},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:j}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:j},{type:"rect",rect:[10,10,80,20],background:j}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:j},{type:"rect",rect:[10,34,56,14],background:j},{type:"rect",rect:[34,10,56,14],background:j},{type:"rect",rect:[82,10,8,56],background:j},{type:"rect",rect:[66,62,24,8],background:j}]},dialogTitleLabelColor:x.labelSelectColor,dialogTitleLabelFont:(f?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:x.labelFont,dialogTitleBackground:V.titleBackground,dialogHeaderBackground:V.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var H=function(o){var Q=this;Q.$1d=o,Q.addListeners()};x.def(H,w,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(H){var $=this,B=$.$1d,E=B.$6d,c=B._config,K=B.$7d,J=H,v=H.target;if(K.contains(v)||x.preventDefault(H),x.isLeftButton(H)){f&&(J=A(H));var m=$.$8d={x:J.pageX,y:J.pageY};$.$9d={x:m.x,y:m.y},!c.maximized&&c.draggable&&E.contains(v)&&($.$4d=!0,x.startDragging($,H)),$.handle_mousemove(H)&&($.$2d=!0,x.startDragging($,H)),K.contains(H.target)||B.$41d.focus()}},handle_mousedown:function(w){this.handle_touchstart(w)},handle_touchend:function(J){if(x.isLeftButton(J)&&!this.$5d&&!this.$3d){var h=this,c=h.$1d,v=J.target,S=c._config,b=c.$18d,r=c.$16d;for(S.closable&&b.contains(v)&&c.hide(),S.maximizable&&r.contains(v)&&(S.maximized?c.restore():c.maximize());v&&(v.className||"").indexOf("dialog-button")<0;)v=v.parentNode;v&&v.buttonItem&&c.action&&c.action(v.buttonItem,J),delete h.$8d,delete h.$9d}},handle_mouseup:function(d){this.handle_touchend(d)},handleWindowTouchEnd:function(w){var J=this,R=J.$1d,A=R.$10d;J.$2d&&J.$3d?A.fire({kind:"endResize",target:R,originEvent:w}):J.$4d&&J.$5d&&A.fire({kind:"endMove",target:R,originEvent:w}),this.clear()},handleWindowMouseUp:function(x){this.handleWindowTouchEnd(x)},handle_mousemove:function(T){var h=this.$1d._config;if(h.maximized)return!1;if("w"!==h.resizeMode&&"h"!==h.resizeMode&&"wh"!==h.resizeMode)return!1;var N=this,Z=N.getView(),F=Z.querySelector(".resize-area"),I=F.getBoundingClientRect(),B={x:I.left,y:I.top,width:I.width,height:I.height};T=f?A(T):T;var g=T.clientX,U=T.clientY,b={x:g,y:U};return x.containsPoint(B,b)?(k(Z,"cursor","nwse-resize"),!0):(k(Z,"cursor",z),void 0)},handleWindowTouchMove:function(H){H.preventDefault();var w=H;f&&(w=A(H));var R=this,Y=R.$8d,N=R.$9d;if(!(N.x==Y.x&&N.y==Y.y&&x.getDistance(N,{x:w.pageX,y:w.pageY})<=1)){var D=R.$1d,v=D._config,L=D.$21d,z=v.resizeMode||"wh",C=w.pageX-Y.x,o=w.pageY-Y.y;if(R.$2d){var U=L.offsetWidth,W=L.offsetHeight,O=U+C,K=W+o;if(O=Math.max(O,50),K=Math.max(K,50),"center"===v.position||v.position==c){var j={},Z=L.getBoundingClientRect();j.x=Z.left,j.y=Z.top,v.position=j}"w"===z?(D.setSize(O,W),Y.x+=O-U):"h"===z?(D.setSize(U,K),Y.y+=K-W):"wh"===z&&(D.setSize(O,K),Y.x+=O-U,Y.y+=K-W),R.$3d?D.$10d.fire({kind:"betweenResize",target:D,originEvent:H}):(R.$3d=!0,D.$10d.fire({kind:"beginResize",target:D,originEvent:H}))}else if(R.$4d){var b=L.getBoundingClientRect(),p=b.width,I=b.height,s=i(),M=G(),E=y(L.style.left)||0,n=y(L.style.top)||0,g=E+C,l=n+o;g+p>s&&(g=s-p),l+I>M&&(l=M-I),0>g&&(g=0),0>l&&(l=0);var d=g-E,t=l-n;k(L,J,g+P),k(L,u,l+P),Y.x+=d,Y.y+=t,v.position={x:g,y:l},R.$5d?D.$10d.fire({kind:"betweenMove",target:D,originEvent:H}):(R.$5d=!0,D.$10d.fire({kind:"beginMove",target:D,originEvent:H}))}}},handleWindowMouseMove:function(k){this.handleWindowTouchMove(k)},handleWindowResize:function(){var f=this,e=f,B=e._config,C=e.$21d,A=i(),W=G(),L=B.width,r=B.height,H=B.position||"center";B.maximized?(k(C,v,A+P),k(C,O,W+P),k(C,u,F),k(C,J,F)):(k(C,v,L+P),k(C,O,r+P),"center"===H?(k(C,J,(A-L)/2+P),k(C,u,(W-r)/2+P)):(k(C,J,H.x+P),k(C,u,H.y+P)))},handle_mousewheel:function(I){I.stopPropagation()},handle_DOMMouseScroll:function(R){R.stopPropagation()}}),o.widget.Dialog=function(z){var n=this,X=n._view=E();X[R]="ht-widget-dialog",k(X,l,p),x.baseZIndex!=c&&k(X,"z-index",x.baseZIndex+"");var i=n.$11d=new H(n);n.bindingHandleWindowResize=i.handleWindowResize.bind(n),n.$10d=new o.Notifier,z&&n.setConfig(z)},$("Dialog",w,{ms_v:1,setTitle:function(I){this._config.title=I,this.getView().querySelector(".dialog-container-title span").innerHTML=I},$31d:function(){var S=this,h=S.$6d=E(),f=S._config,p=S.$12d=S.$13d();h[R]="dialog-container-title",k(h,"cursor","default"),k(h,"white-space","nowrap"),k(h,"overflow","hidden"),k(h,"font",x.dialogTitleLabelFont),k(h,C,f.titleBackground||x.dialogTitleBackground),k(h,"color",f.titleColor||x.dialogTitleLabelColor);var N=Z("span"),Q=S.$25d();if(f.titleAlign&&k(h,"text-align",f.titleAlign),f.titleIcon){var b=S.$14d=S.$15d();T(h,b)}if(N[U]=f.title,T(h,N),f.maximizable){var m=S.$16d=S.$17d();T(p,m)}if(f.closable){var B=S.$18d=S.$19d();T(p,B)}return T(h,p),k(h,"display","block"),k(h,"line-height",Q+P),h},$13d:function(){var v=E();return k(v,l,p),k(v,J,F),k(v,N,5+P),k(v,u,F),k(v,L,F),k(v,"text-align",N),k(v,"white-space","nowrap"),v[R]="dialog-title-controls",v},$20d:function(){var u=this.$21d=E(),d=this._config,G=d.borderWidth;return k(u,l,"fixed"),k(u,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),k(u,"padding",F+" "+G+P+" "+G+P+" "+G+P),k(u,"box-sizing","border-box"),k(u,"-moz-box-sizing","border-box"),u[R]="dialog-container",k(u,C,d.titleBackground||x.dialogTitleBackground),u},$22d:function(){var t,A=this,h=A._config,i=A.$7d=E(),D=h.content,n=0,e=h.contentPadding||0;h.buttons!=c&&h.buttons.length>0&&(n=32),I(D)?i[U]=D:D.getView?(t=D.getView(),T(i,t)):(t=D,T(i,t)),k(i,l,p),k(i,"font",x.dialogContentLabelFont),T(m(),i);var j=i.offsetWidth+1,o=i.offsetHeight,z=A.$25d();return h.width==c&&(h.width=j+10+2*e),h.height==c&&(h.height=o+z+n+5+2*e),Q(m(),i),t&&(k(t,"box-sizing","border-box"),k(t,"-moz-box-sizing","border-box"),k(t,v,"100%"),k(t,O,"100%")),i[R]="dialog-content",k(i,u,z+e+P),k(i,L,n+e+P),k(i,J,e+P),k(i,N,e+P),k(i,"overflow","hidden"),i},$23d:function(){var a=this.$41d=E();return a[R]="dialog-overlay",k(a,v,"100%"),k(a,O,"100%"),k(a,l,"fixed"),k(a,u,F),k(a,J,F),k(a,C,"rgba(235, 235, 235, 0.7)"),a},_config:c,setSize:function(o,L){var T=this,n=T._config;n&&(n.width=o,n.height=L,T.isShowing()&&(T.bindingHandleWindowResize(),T.iv()))},getConfig:function(){return this._config},$24d:function(){var x=this._config,k=x.titleIconSize||16;return f&&(k*=1.2),k},$25d:function(){var M=this._config,E=M.titleHeight||x.widgetTitleHeight;return E},$26d:function(s){k(s,"cursor","pointer"),k(s,"display","inline-block"),k(s,"margin-right",(f?8:4)+P),k(s,"vertical-align",u)},$27d:function(){var G=this.$30d=E(),D=10;return f&&(D=20),k(G,v,D+P),k(G,O,D+P),k(G,l,p),k(G,L,F),k(G,N,F),G[R]="resize-area",G},$15d:function(){var z=this,N=W();N[R]="dialog-title-control dialog-title-control-icon";var E=z.$25d(),Z=z.$24d();return z.$26d(N),r.setCanvas(N,Z,E),N},$17d:function(){var c=W();c[R]="dialog-title-control dialog-title-control-maximize";var t=this.$25d(),E=this.$24d();return this.$26d(c),r.setCanvas(c,E,t),c},$19d:function(){var s=W();s[R]="dialog-title-control dialog-title-control-close";var y=this.$25d(),Y=this.$24d();return this.$26d(s),r.setCanvas(s,Y,y),s},$28d:function(){var u=E();return k(u,C,"white"),k(u,v,"100%"),k(u,O,"100%"),k(u,l,"relative"),u},$29d:function(){var w=this,e=E();k(e,"line-height",32+P),k(e,l,p),k(e,L,F),k(e,J,F),k(e,"white-space","nowrap"),k(e,"overflow","hidden"),k(e,N,F),k(e,C,x.dialogHeaderBackground),e[R]="dialog-container-buttons";var W=this._config,$=W.buttonsAlign||N,b=0;return k(e,"text-align",$),w.$42d=[],W.buttons.forEach(function(_){var U=new o.widget.Button,H=U.getView();H[R]="dialog-button",H.buttonItem=_,w.$42d.push(U),U.setBorderColor(c),U.setBackground(x.dialogButtonBackground),U.setSelectBackground(x.dialogButtonSelectBackground),U.setLabelColor(x.dialogButtonLabelColor),k(H,l,"static"),k(H,"display","inline-block"),k(H,"text-align",J),k(H,"height",24+P);var X=f?10:5;$===J||$===N?k(H,"margin-"+$,X+P):0===b||k(H,"margin-"+J,X+P),k(H,"vertical-align","middle");var z=x.getTextSize(U.getLabelFont(),_.label).width+10;U.onClicked=function(K){_.action&&_.action.call(w,_,K)},U.setLabel(_.label),k(H,v,z+P),T(e,U.getView()),b++}),e},setConfig:function($){if($){var X=this,x=X._view;X._config=$,X.action=$.action,x[U]=z,$.borderWidth==c&&($.borderWidth=5);var S=X.$23d(),y=X.$28d(),K=X.$31d(),I=X.$22d(),f=X.$20d(),d=X.$30d=X.$27d();if(T(x,S),T(x,f),T(f,y),T(y,K),T(y,I),$.buttons!=c&&$.buttons.length>0){var L=X.$29d();T(y,L)}T(f,d),$.maximized?($.maximized=!1,X.bindingHandleWindowResize(),X.maximize(!0)):X.bindingHandleWindowResize(),X.isShowing()&&X.iv()}},hide:function(){var J=this,T=J.$21d,D=J.$41d,M=J._view;M[R]="ht-widget-dialog",n(T).duration(200).scale(.7).set(q,F).end(function(){J.onHidden&&J.onHidden(),Q(m(),M),J.$10d.fire({kind:"hide",target:J})}),n(D).duration(200).set(q,F).end(),B.removeEventListener("resize",J.bindingHandleWindowResize)},isShowing:function(){return m().contains(this._view)},$32d:function(){var Z=this,b=Z._config,i=Z.$21d;X(i,z),Z.iv(),b.maximized?Z.$10d.fire({kind:"maximize",target:Z}):Z.$10d.fire({kind:"restore",target:Z})},maximize:function(L){var p=this,X=p.$21d,_=p._config;if(!_.maximized){_.maximized=!0,p.$33d(),p.$16d[R]="dialog-title-control dialog-title-control-minimize";var l=i(),C=G(),E=_.width,A=_.height,b=y(X.style.left)||0,N=y(X.style.top)||0;p.$36d=E,p.$37d=A,p.$34d=b,p.$35d=N;var w=L?0:200;n(X).duration(w).set(J,F).set(u,F).set(v,l+P).set(O,C+P).end(function(){p.$32d()})}},restore:function(){var N=this,p=N.$34d,s=N.$35d,G=N.$36d,o=N.$37d,M=N._config;if(M.maximized&&(M.maximized=!1,N.$33d(),N.$16d[R]="dialog-title-control dialog-title-control-maximize",N.isShowing()&&p!=c&&s!=c&&G!=c&&o!=c)){var H=N.$21d;n(H).duration(200).set(J,p+P).set(u,s+P).set(v,G+P).set(O,o+P).end(function(){N.$32d()})}delete N.$34d,delete N.$35d,delete N.$36d,delete N.$37d},show:function(){var u=this,s=u._view,E=u._config,p=u.$21d,Z=u.$41d;E&&E.zIndex!=c&&k(s,"z-index",E.zIndex+z),T(m(),s),X(p,"scale(0.7)"),k(p,q,F),u.iv(),u.validate(),u._view[R]+=" dialog-show",M(function(){n(p).duration(200).scale(1).set(q,"1").end(function(){k(p,v,p.clientWidth+P),k(p,O,p.clientHeight+P),u.onShown&&u.onShown(),u.$10d.fire({kind:"show",target:u})}),n(Z).duration(200).set(q,"1").end(),d(B,"resize",u.bindingHandleWindowResize)},30)},addEventListener:function(U,G,F){this.$10d.add(U,G,F)},removeEventListener:function(p,m){this.$10d.remove(p,m)},$38d:function(q,o,L,E){var z=r.initContext(q);r.translateAndScale(z,0,0,1),z.clearRect(0,0,L,L);var T=(L-E)/2;x.drawStretchImage(z,x.getImage(o),"fill",0,T,E,E),z.restore()},$33d:function(){var O=this,K=O._config,F=O.$16d,X=K.maximized?x.dialogRestoreIcon:x.dialogMaximizeIcon;if(F&&X){var t=O.$25d(),s=O.$24d();O.$38d(F,x.getImage(X),t,s)}},$39d:function(){var d=this,G=d._config,F=d.$14d,h=G.titleIcon;if(F&&h){var H=d.$25d(),R=d.$24d();d.$38d(F,x.getImage(h),H,R)}},$40d:function(){var n=this,H=n.$18d,G=x.dialogCloseIcon;if(H&&G){var y=n.$25d(),P=n.$24d();n.$38d(H,x.getImage(G),y,P)}},invalidate:function(Y){var u=this,s=u.$42d;u._68I||(u._68I=1,x.callLater(u.validate,u,c,Y),u.onInvalidated&&u.onInvalidated(),u._41O("invalidate"));var E=u._config.content;E.invalidate&&E.invalidate(),s&&s.forEach(function(U){U.iv()})},validateImpl:function(){var i=this;i.$40d(),i.$33d(),i.$39d()}})}(this,Object);